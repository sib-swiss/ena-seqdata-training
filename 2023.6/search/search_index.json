{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Course website Material This website Zoom meeting (through mail) Google doc (through mail) Slack channel This course has made use of the following existing material: NBIS DM practices course material ENA documentation Learning outcomes General learning outcomes After this course, you will be able to: Understand the main data structures underlying ENA and the Sequence Read Archive (SRA) Find an appropriate portal for submitting and finding the most common data types related to raw NGS data Use the web interfaces and command line to find and download raw sequencing data from SRA Use the command line or FileZilla to upload files with ftp Successfully submit the most common data types to ENA Learning outcomes explained To reach the general learning outcomes above, we have set a number of smaller learning outcomes. Each chapter starts with these smaller learning outcomes. Use these at the start of a chapter to get an idea what you will learn. Use them also at the end of a chapter to evaluate whether you have learned what you were expected to learn. Learning experiences To reach the learning outcomes we will use lectures, exercises, polls and group work. During exercises, you are free to discuss with other participants. During lectures, focus on the lecture only. Exercises Each block has practical work involved. Some more than others. The practicals are subdivided into chapters, and we\u2019ll have a (short) discussion after each chapter. All answers to the practicals are incorporated, but they are hidden. Do the exercise first by yourself, before checking out the answer. If your answer is different from the answer in the practicals, try to figure out why they are different. Asking questions During lectures, you are encouraged to raise your hand if you have questions (if in-person), or use the Zoom functionality (if online). Find the buttons in the participants list (\u2018Participants\u2019 button): Alternatively, (depending on your zoom version or OS) use the \u2018Reactions\u2019 button: A main source of communication will be our slack channel . Ask background questions that interest you personally at #background . During the exercises, e.g. if you are stuck or don\u2019t understand what is going on, use the slack channel #q-and-a . This channel is not only meant for asking questions but also for answering questions of other participants. If you are replying to a question, use the \u201creply in thread\u201d option: The teacher will review the answers, and add/modify if necessary. If you\u2019re really stuck and need specific tutor support, write the teachers or helpers personally. To summarise: During lectures: raise hand/zoom functionality Personal interest questions: #background During exercises: #q-and-a on slack","title":"Home"},{"location":"#course-website","text":"","title":"Course website"},{"location":"#material","text":"This website Zoom meeting (through mail) Google doc (through mail) Slack channel This course has made use of the following existing material: NBIS DM practices course material ENA documentation","title":"Material"},{"location":"#learning-outcomes","text":"","title":"Learning outcomes"},{"location":"#general-learning-outcomes","text":"After this course, you will be able to: Understand the main data structures underlying ENA and the Sequence Read Archive (SRA) Find an appropriate portal for submitting and finding the most common data types related to raw NGS data Use the web interfaces and command line to find and download raw sequencing data from SRA Use the command line or FileZilla to upload files with ftp Successfully submit the most common data types to ENA","title":"General learning outcomes"},{"location":"#learning-outcomes-explained","text":"To reach the general learning outcomes above, we have set a number of smaller learning outcomes. Each chapter starts with these smaller learning outcomes. Use these at the start of a chapter to get an idea what you will learn. Use them also at the end of a chapter to evaluate whether you have learned what you were expected to learn.","title":"Learning outcomes explained"},{"location":"#learning-experiences","text":"To reach the learning outcomes we will use lectures, exercises, polls and group work. During exercises, you are free to discuss with other participants. During lectures, focus on the lecture only.","title":"Learning experiences"},{"location":"#exercises","text":"Each block has practical work involved. Some more than others. The practicals are subdivided into chapters, and we\u2019ll have a (short) discussion after each chapter. All answers to the practicals are incorporated, but they are hidden. Do the exercise first by yourself, before checking out the answer. If your answer is different from the answer in the practicals, try to figure out why they are different.","title":"Exercises"},{"location":"#asking-questions","text":"During lectures, you are encouraged to raise your hand if you have questions (if in-person), or use the Zoom functionality (if online). Find the buttons in the participants list (\u2018Participants\u2019 button): Alternatively, (depending on your zoom version or OS) use the \u2018Reactions\u2019 button: A main source of communication will be our slack channel . Ask background questions that interest you personally at #background . During the exercises, e.g. if you are stuck or don\u2019t understand what is going on, use the slack channel #q-and-a . This channel is not only meant for asking questions but also for answering questions of other participants. If you are replying to a question, use the \u201creply in thread\u201d option: The teacher will review the answers, and add/modify if necessary. If you\u2019re really stuck and need specific tutor support, write the teachers or helpers personally. To summarise: During lectures: raise hand/zoom functionality Personal interest questions: #background During exercises: #q-and-a on slack","title":"Asking questions"},{"location":"course_schedule/","text":"start end topic 09:15 09:45 Introductions 09:45 10:30 Lecture: Introduction to raw sequence databases 10:30 11:00 Break 11:00 12:00 Exercise: finding and downloading raw sequence data 12:00 13:00 Lunch 13:00 13:30 Lecture: metadata & submitting sequences 13:30 15:00 Exercise: submitting raw sequence reads to ENA 15:00 15:30 Break 15:30 17:00 BYOD or submitting data with Webin-cli","title":"Course schedule"},{"location":"precourse/","text":"Knowledge / competencies Participants are expected to have basic knowledge on common next generation sequencing data types (e.g. fasta, fastq, bam). Experience with the command line (either UNIX or Windows) is a plus. Technical Participants are required to bring their own personal computer with FileZilla pre-installed.","title":"Precourse preparations"},{"location":"precourse/#knowledge-competencies","text":"Participants are expected to have basic knowledge on common next generation sequencing data types (e.g. fasta, fastq, bam). Experience with the command line (either UNIX or Windows) is a plus.","title":"Knowledge / competencies"},{"location":"precourse/#technical","text":"Participants are required to bring their own personal computer with FileZilla pre-installed.","title":"Technical"},{"location":"course_content/finding_downloading/","text":"Our story Our project Genetic variation of listeria in cow has the aim to gain knowledge about the genetic variability of listeria. At the start of the project, we want to know what kind of data is already available, and see whether we can re-analyze it to understand the genetic variation of Listeria monocytogenes associated with cows. Exercises Finding data You are asked to figure out what kind of raw sequencing data is already available to do the analysis. As a start, we go to the ENA search page , and type in Listeria monocytogenes in the search box. Exercise : Look for Listeria monocytogenes in the general search. Do you find many raw read datasets? Are they all relevant to our question? Answer At time of writing I find 28,613 runs associated with Listeria monocytogenes . They probably aren\u2019t all useful. For example, we are interested in Listeria associated with cows, and probably most of those entries have a different origin (e.g. food/lab). In addition, some might contain only a part of the genome because it\u2019s enriched by e.g. PCR, and there is variation in the sequencing technology used, which could complicate our downstream analysis. We probably want to search a bit more specific. Go to the advanced search page . We will be looking for raw reads. Let\u2019s search for the following characteristics: Organism Listeria monocytogenes Illumina whole genome sequencing Host: cow ( Bos taurus ) Build a query by selecting the boxes and selecting and specifying fields. At Data Type specify Raw Reads . At Query have a particular look at: Taxonomy and related Host information Sequencing information Hint Find the description of all possible fields here . You\u2019ll notice that a search query will appear at the top of the page. What does your query look like? Answer Here\u2019s an example of a query you could end up with: tax_eq(1639) AND host_scientific_name=\"Bos taurus\" AND instrument_platform=\"ILLUMINA\" AND library_strategy=\"WGS\" Ignore the other steps for now and click \u2018Search\u2019. You will find the accession and the Run accession and the description of the run. Exercise: We want to validate the sequencing runs that appear after our search. What kind of other information would you want to evaluate our search? Answer Some information that might be nice: To which original study and sample the run belongs The host information Where to find the data files The size of the data files Date of sampling/submission The geographic origin The strain/serotype You can change the results fields by going two steps back in the fields selection page. Exercise : Navigate to the \u2018Fields\u2019 page, and select Manually select fields to select fields that interest you and correspond to the required information in the answer above. Find all field descripts here . Answer Here\u2019s an example of the fields you could have selected: study_accession,library_selection,country,collection_date,first_public,strain,host,host_status,isolation_source,serotype,submitted_ftp,submitted_bytes,fastq_ftp,fastq_bytes Download the results as tsv ( Download report > TSV ). Are there many researchers that specified the serotype or strain? How about the isolation source? Downloading data through ftp There are quite a few ways to download data from ENA/ISNDC: Through FTP: From the command line with wget or curl With FileZilla Through the command line with SRA tools with prefetch and fasterq-dump Via SRA cloud delivery Nextflow pipeline With the nf-core pipeline fetchngs , it\u2019s easy to download sequencing reads from SRA/ENA and have them in the right format for downstream processing with other nf-core pipelines. In the exercises below we will use FileZilla to download some files of interest. Make sure that you have specified submitted_ftp and fastq_ftp at Fields . After that, at Results download the report in tsv format ( Download report > TSV ). Open the downloaded TSV in your favourite spreadsheet program, and pick a sequencing run with both submitted data and fastq data available. For example, you can use ERR10549500 . File size In the exercises, you will download the files. Find a sequencing run that\u2019s not too big, to do that, you can include submitted_bytes and/or fastq_bytes at Fields Now we\u2019ll browse the files with Filezilla. To do that we need the links provided at the columns submitted_ftp and fastq_ftp . The first part is the address to the FTP server: ftp.sra.ebi.ac.uk . To connect to that we make a connection with FileZilla: File > Site Manager.. Click New Site Give the connection a name e.g. \u2018ENA SRA\u2019 Specify at Host ftp.sra.ebi.ac.uk At Logon Type specify Anonymous Connect to the server. Now at the right panel you can browse to the paths in the links (i.e. the part after ftp.sra.ebi.ac.uk in the links at the table). To browse to the directory with the submitted data for ERR10549405 , you can go to /vol1/run/ERR105/ERR10549500/ . Exercise For your sample of interest, download a submitted file and the SRA fastq file. What are the differences? Answer The first eight lines of the SRA fastq file looks like this: @ERR10549500.1 NB502092:214:HCYYFAFX3:1:11101:10005:17165/1 AATTTCACCTTCATTAATAGATTTTTTTCTTTTAACGTCTTATAATGAAATGGAACCGAGAACATACGCGAATATGTTCTCGGCTCATTTCTAAGGATGACTACTGTAAAACATCTGAGCCCGAGAAGCTTTGGATTCGTTTGCACGGTTA + AAAAAE/A<EEEEEE/AA6EE6EEEE/EEEEEEEEEEEE//A/AAEAAEEE//AAEAEEAE/EEEEE<<E<EEE/<AAEEA/</6EE/</EEA/6/EEAEEAEE</EE<EEEEEEAAEA//66E<AAA<EE/<<<EE<A/<//6A/6/EE/ @ERR10549500.2 NB502092:214:HCYYFAFX3:1:11101:10012:8474/1 ATCCTTATCTAATCACTTCTATCGCTGTGTTCTACGATGATTTATACGCAGCAACAGAAGGCACTTTTACAGAAGAAACGGTCATCGTGGAAGAAGAAGTAAATCCATTTGGAACAACAGAAGCTGATCCATTTGCTGAAGATACACATC + AAAAAEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE<EEEEEAEEEEEEEAEEAEEEEEEEEEEEE/EEEEEEEEEEEEEEEEEEEEEAEAEEEEE<EEAEEEE<AEE/EE/EEEEAAE< While for the submitted file it looks like: @NB502092:214:HCYYFAFX3:1:11101:19008:1109 1:N:0:GCTCATGA+NTAGCCTT GACTTNTTGGGATTAGTGAAGGGGCAATTCCTTTCGCGGTAGAATCTCCGCTTAAAGTTATTCCGGCTACGGTTCTTGGTTCTGCTGTCGGCGGGGCACTAGCTGTAGGTCTTGGCGCAATTAACCAAGCGCCAATCAGTGGTTTTTATGG + AAAAA#/EEAE6EEAEEE/EEEEAEE/AEEEEE/AAEE/AAEE/EEEEAAEAEEEEEEEEEEEEEEAEEEEEEEEEEEEEEEEEEEAAEEE<EEEEEEEEEEEE/E<EE/AEE<EEEEAEEEE/EEE/AEEEEEA<EAEEAEE/E<E/EA< @NB502092:214:HCYYFAFX3:1:11101:9681:1109 1:N:0:GCTCATGA+NTAGCCTT GACTGNACAGATGTGCCGATGTTTGTTAAACAAGGTGCCATTATGCCAATGCAACAACCACAAAACTATGTTGGCGAATCCGCAGTCAAAACAATTTATTTAGACACTTTTGCATCAGATAAAGAGACATCCTTTACACATTACGATGACG + AAAAA#EAEEEEEEEEEEEEEEEEEEEEEEEEEEEAEAEEEEEEEE/E/EEEEEEE/EEEEEEEEEEAAEAEEEEEEEEE6EEEEEEEEAAEEE/EEE/E<AAAE/A<<EEEAEA6EEAEEEEEAEEEE/AEEEEAE/AEAAE<AEAAAA< So, apparantly both the order and the titles are different. They both have the same number of reads: gunzip -c ERR10549500_1.fastq.gz | wc -l gunzip -c DTU_2022_1015394_2_SI_JC98_R1_001.fq.gz | wc -l Both return 3657672 Using wget Of course, if you have a lot of runs you need to download, or if you are downloading to e.g. a remote cluster with only a commmand line interface, you can use wget or curl . For our exercise, the commands for wget would look like this: # SRA fastq wget ftp.sra.ebi.ac.uk/vol1/fastq/ERR105/000/ERR10549500/ERR10549500_1.fastq.gz # submitted fastq wget ftp.sra.ebi.ac.uk/vol1/run/ERR105/ERR10549500/DTU_2022_1015394_2_SI_JC98_R1_001.fq.gz","title":"Finding and downloading"},{"location":"course_content/finding_downloading/#exercises","text":"","title":"Exercises"},{"location":"course_content/finding_downloading/#finding-data","text":"You are asked to figure out what kind of raw sequencing data is already available to do the analysis. As a start, we go to the ENA search page , and type in Listeria monocytogenes in the search box. Exercise : Look for Listeria monocytogenes in the general search. Do you find many raw read datasets? Are they all relevant to our question? Answer At time of writing I find 28,613 runs associated with Listeria monocytogenes . They probably aren\u2019t all useful. For example, we are interested in Listeria associated with cows, and probably most of those entries have a different origin (e.g. food/lab). In addition, some might contain only a part of the genome because it\u2019s enriched by e.g. PCR, and there is variation in the sequencing technology used, which could complicate our downstream analysis. We probably want to search a bit more specific. Go to the advanced search page . We will be looking for raw reads. Let\u2019s search for the following characteristics: Organism Listeria monocytogenes Illumina whole genome sequencing Host: cow ( Bos taurus ) Build a query by selecting the boxes and selecting and specifying fields. At Data Type specify Raw Reads . At Query have a particular look at: Taxonomy and related Host information Sequencing information Hint Find the description of all possible fields here . You\u2019ll notice that a search query will appear at the top of the page. What does your query look like? Answer Here\u2019s an example of a query you could end up with: tax_eq(1639) AND host_scientific_name=\"Bos taurus\" AND instrument_platform=\"ILLUMINA\" AND library_strategy=\"WGS\" Ignore the other steps for now and click \u2018Search\u2019. You will find the accession and the Run accession and the description of the run. Exercise: We want to validate the sequencing runs that appear after our search. What kind of other information would you want to evaluate our search? Answer Some information that might be nice: To which original study and sample the run belongs The host information Where to find the data files The size of the data files Date of sampling/submission The geographic origin The strain/serotype You can change the results fields by going two steps back in the fields selection page. Exercise : Navigate to the \u2018Fields\u2019 page, and select Manually select fields to select fields that interest you and correspond to the required information in the answer above. Find all field descripts here . Answer Here\u2019s an example of the fields you could have selected: study_accession,library_selection,country,collection_date,first_public,strain,host,host_status,isolation_source,serotype,submitted_ftp,submitted_bytes,fastq_ftp,fastq_bytes Download the results as tsv ( Download report > TSV ). Are there many researchers that specified the serotype or strain? How about the isolation source?","title":"Finding data"},{"location":"course_content/finding_downloading/#downloading-data-through-ftp","text":"There are quite a few ways to download data from ENA/ISNDC: Through FTP: From the command line with wget or curl With FileZilla Through the command line with SRA tools with prefetch and fasterq-dump Via SRA cloud delivery Nextflow pipeline With the nf-core pipeline fetchngs , it\u2019s easy to download sequencing reads from SRA/ENA and have them in the right format for downstream processing with other nf-core pipelines. In the exercises below we will use FileZilla to download some files of interest. Make sure that you have specified submitted_ftp and fastq_ftp at Fields . After that, at Results download the report in tsv format ( Download report > TSV ). Open the downloaded TSV in your favourite spreadsheet program, and pick a sequencing run with both submitted data and fastq data available. For example, you can use ERR10549500 . File size In the exercises, you will download the files. Find a sequencing run that\u2019s not too big, to do that, you can include submitted_bytes and/or fastq_bytes at Fields Now we\u2019ll browse the files with Filezilla. To do that we need the links provided at the columns submitted_ftp and fastq_ftp . The first part is the address to the FTP server: ftp.sra.ebi.ac.uk . To connect to that we make a connection with FileZilla: File > Site Manager.. Click New Site Give the connection a name e.g. \u2018ENA SRA\u2019 Specify at Host ftp.sra.ebi.ac.uk At Logon Type specify Anonymous Connect to the server. Now at the right panel you can browse to the paths in the links (i.e. the part after ftp.sra.ebi.ac.uk in the links at the table). To browse to the directory with the submitted data for ERR10549405 , you can go to /vol1/run/ERR105/ERR10549500/ . Exercise For your sample of interest, download a submitted file and the SRA fastq file. What are the differences? Answer The first eight lines of the SRA fastq file looks like this: @ERR10549500.1 NB502092:214:HCYYFAFX3:1:11101:10005:17165/1 AATTTCACCTTCATTAATAGATTTTTTTCTTTTAACGTCTTATAATGAAATGGAACCGAGAACATACGCGAATATGTTCTCGGCTCATTTCTAAGGATGACTACTGTAAAACATCTGAGCCCGAGAAGCTTTGGATTCGTTTGCACGGTTA + AAAAAE/A<EEEEEE/AA6EE6EEEE/EEEEEEEEEEEE//A/AAEAAEEE//AAEAEEAE/EEEEE<<E<EEE/<AAEEA/</6EE/</EEA/6/EEAEEAEE</EE<EEEEEEAAEA//66E<AAA<EE/<<<EE<A/<//6A/6/EE/ @ERR10549500.2 NB502092:214:HCYYFAFX3:1:11101:10012:8474/1 ATCCTTATCTAATCACTTCTATCGCTGTGTTCTACGATGATTTATACGCAGCAACAGAAGGCACTTTTACAGAAGAAACGGTCATCGTGGAAGAAGAAGTAAATCCATTTGGAACAACAGAAGCTGATCCATTTGCTGAAGATACACATC + AAAAAEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE<EEEEEAEEEEEEEAEEAEEEEEEEEEEEE/EEEEEEEEEEEEEEEEEEEEEAEAEEEEE<EEAEEEE<AEE/EE/EEEEAAE< While for the submitted file it looks like: @NB502092:214:HCYYFAFX3:1:11101:19008:1109 1:N:0:GCTCATGA+NTAGCCTT GACTTNTTGGGATTAGTGAAGGGGCAATTCCTTTCGCGGTAGAATCTCCGCTTAAAGTTATTCCGGCTACGGTTCTTGGTTCTGCTGTCGGCGGGGCACTAGCTGTAGGTCTTGGCGCAATTAACCAAGCGCCAATCAGTGGTTTTTATGG + AAAAA#/EEAE6EEAEEE/EEEEAEE/AEEEEE/AAEE/AAEE/EEEEAAEAEEEEEEEEEEEEEEAEEEEEEEEEEEEEEEEEEEAAEEE<EEEEEEEEEEEE/E<EE/AEE<EEEEAEEEE/EEE/AEEEEEA<EAEEAEE/E<E/EA< @NB502092:214:HCYYFAFX3:1:11101:9681:1109 1:N:0:GCTCATGA+NTAGCCTT GACTGNACAGATGTGCCGATGTTTGTTAAACAAGGTGCCATTATGCCAATGCAACAACCACAAAACTATGTTGGCGAATCCGCAGTCAAAACAATTTATTTAGACACTTTTGCATCAGATAAAGAGACATCCTTTACACATTACGATGACG + AAAAA#EAEEEEEEEEEEEEEEEEEEEEEEEEEEEAEAEEEEEEEE/E/EEEEEEE/EEEEEEEEEEAAEAEEEEEEEEE6EEEEEEEEAAEEE/EEE/E<AAAE/A<<EEEAEA6EEAEEEEEAEEEE/AEEEEAE/AEAAE<AEAAAA< So, apparantly both the order and the titles are different. They both have the same number of reads: gunzip -c ERR10549500_1.fastq.gz | wc -l gunzip -c DTU_2022_1015394_2_SI_JC98_R1_001.fq.gz | wc -l Both return 3657672 Using wget Of course, if you have a lot of runs you need to download, or if you are downloading to e.g. a remote cluster with only a commmand line interface, you can use wget or curl . For our exercise, the commands for wget would look like this: # SRA fastq wget ftp.sra.ebi.ac.uk/vol1/fastq/ERR105/000/ERR10549500/ERR10549500_1.fastq.gz # submitted fastq wget ftp.sra.ebi.ac.uk/vol1/run/ERR105/ERR10549500/DTU_2022_1015394_2_SI_JC98_R1_001.fq.gz","title":"Downloading data through ftp"},{"location":"course_content/introduction/","text":"here","title":"Introduction"},{"location":"course_content/submitting/","text":"Our story Our project Genetic variation of listeria in the cow brain has the aim to gain knowledge about the genetic variability of listeria. As a first step, we isolated Listeria monocytogenes from two different cow milk samples (sample LIS001 and LIS002). The milk was collected at January 2022 at two dairy farms, one near Bern (CH), and the other near Fribourg (CH). We received them on February 2nd of the same year in our lab. By whole genome sequencing we found out that LIS001 belongs to serotype 4b and LIS002 to serotype 1/2b. We performed paired-end sequencing on an Illumina MiSeq (2 x 150 bp) on DNA extracted from both isolates. You can find the raw reads here . Exercises You are asked to submit the reads to a repository EBI. First, figure out what the best submission strategy is at the submission wizard . Answer After answering the questions, you probably conclude you should submit to ENA . If you haven\u2019t already got one, make a Webin account . After the creation of the Webin account we will continue in the dev environment at https://wwwdev.ebi.ac.uk/ena/browser/home . From now on dev environment! Make sure you use the dev environment https://wwwdev.ebi.ac.uk/ena/browser/home . Otherwise the reads will be submitted and stay at ENA! We will follow the route Submit to ENA using the Webin Portal , which requires four steps. 1. Register study A study (or project) is an entity describing a research project. Typically this is at the level of a research grant. This make it e.g. easy to find data from multiple experiments from the same study. Click on Register study and fill out the form for the project described above. Note The descriptions do not have to belong for this example. Typically, you can copy-paste this information from e.g. the research proposal. 2. Register samples Go back to the submission portal main page , and click Register samples . Start by finding a sample template. Exercise : What would be the most appropriate template for our project? Answer Listeria monocytogenes is a pathogen, so as checklist group we select Pathogens Checklists . It is food-borne, so the first one COMPARE-ECDC-EFSA pilot food-associated reporting standard could be appropriate. However, we can\u2019t specify the host (cow) in there. So we choose the alternative: ENA prokaryotic pathogen minimal sample checklist . Exercise : Check out all fields (including recommended and optional). Any field you want to add/remove? Answer We don\u2019t have information about where the samples were exactly collected, so we can uncheck lat_lon at \u2018Recommended fields\u2019. We can also uncheck strain because we don\u2019t have any strain information. Exercise : Now download the template as tsv, and edit it in e.g. excel for our two samples (LIS001 and LIS002). Do not change the first three lines. For your convenenience, keep the field description open, so you know what to fill out. Hint In order to find the taxonomy ID ( tax_id ), use NCBI Taxonomy to find it. Answer You can find an example of a \u2018correctly\u2019 filled out table here . 3. Upload reads Before we submit the reads, we first need to upload them. We will use the ftp protocol with FileZilla. Note Find all ways to upload sequence reads to ENA here . Get the reads we will submit here . After downloading, extract the tar file. To upload the reads, create a new Site that connects to ftp://webin2.ebi.ac.uk in FileZilla: File > Site Manager.. Click New Site Give the connection a name e.g. \u2018webin upload\u2019 Specify at Host webin2.ebi.ac.uk At User and Password specify your Webin username and password After filling out the connection details, click Connect to connect to your personal space on the ftp server. If the connection was successful, browse to the sequence files on your local computer in the left pane, and drag them to the window on the right pane (the ftp server). 4. Submit Reads metadata Go back to the submission portal main page , and click Submit reads . Like with the samples, we will download and fill out a template. Exercise Check out the template choices. What would be the most appropriate template? Answer We have paired fastq files, so we\u2019ll choose Submit paired reads using two Fastq files . Exercise : Again check out the mandatory and optional fields. Any field you would like to add from Optional Fields ? Check \u2018Show Description\u2019 The descriptions do not show by default for the read submission template. View it by checking \u2018Show Description\u2019 at the top of the page. Answer No, probably nothing to add because we don\u2019t have that information. If you have this kind of info, don\u2019t hesitate to add it! You have probably seen the fields \u2018forward_file_md5\u2019 and \u2018reverse_file_md5\u2019. md5 checksums are used to check whether the file transfer has completed completely without error. You can calculate them like this: Linux/MacOS/WSL Windows md5sum *.fastq.gz CertUtil -hashfile LIS001_R1 . fastq . gz MD5 CertUtil -hashfile LIS001_R2 . fastq . gz MD5 CertUtil -hashfile LIS002_R1 . fastq . gz MD5 CertUtil -hashfile LIS002_R2 . fastq . gz MD5 Exercise : download the template and fill out the required information. Check the field description and permitted values in the template description. You can also find an overview of permitted values here . Answer You can find a \u2018correctly\u2019 filled out table here . Now you can upload the file at Upload filled spreadsheet template for Read submission , and the website will tell you if it has been submitted successfully. Now at the side of ENA the files and md5 sums will be checked. If that has occurred successfully (usually occuring over night) you\u2019re all set! At Run files report you can check the status of the files. Extra: submit with webin CLI Submission though webin CLI requires the same steps for registering a study and registering samples. However, the process of submitting the reads is done programatically. A general overview on how to use Webin CLI for reads can be at the ENA docs . To do these exercises, follow these instructions to install Webin CLI locally. Submitting with Webin-CLI starts with creating a json manifest file, in which you specify the metdata associated with your reads. This metadata json basically contains the same information as in the read submission template that we have created above. Here\u2019s an mostly empty example: manifest.json { \"study\" : \"PRJEB00000\" , \"sample\" : \"ERS00000000\" , \"name\" : \"\" , \"platform\" : \"\" , \"instrument\" : \"\" , \"libraryName\" : \"\" , \"library-source\" : \"\" , \"library_selection\" : \"\" , \"libraryStrategy\" : \"\" , \"fastq\" : [ { \"value\" : \"LIS001_R1.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } }, { \"value\" : \"LIS001_R2.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } } ] } Creating json files Typically such a json files is generated programmatically with e.g. R or python. Exercise fill out this json for the reads associated with LIS001. Use the ENA docs to find the permitted values. Answer Here\u2019s an example. Note that study and sample are likely different for you. manifest_LIS001.json { \"study\" : \"PRJEB62850\" , \"sample\" : \"ERS15567929\" , \"name\" : \"LIS001\" , \"platform\" : \"ILLUMINA\" , \"instrument\" : \"Illumina MiSeq\" , \"libraryName\" : \"LIS001\" , \"library-source\" : \"GENOMIC\" , \"library_selection\" : \"RANDOM\" , \"libraryStrategy\" : \"WGS\" , \"fastq\" : [ { \"value\" : \"LIS001_R1.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } }, { \"value\" : \"LIS001_R2.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } } ] } Now, we can use Webin CLI to validate and submit the reads. On a UNIX-based system it would look like this: java -jar webin-cli-6.4.1.jar \\ -context reads \\ -userName Webin-XXXXX \\ -password \" $WEBIN_PW \" \\ -manifest manifest.json \\ -outputDir . \\ -validate \\ -submit \\ -test Exercise Make sure that you have the webin-cli executable, manifest file and reads are in the same directory and run the command. Hint You can store you password in a variable like this: export WEBIN_PW = mywebinpassword Warning Make sure to add the -test option, otherwise Webin CLI will try to submit your reads!","title":"Submitting"},{"location":"course_content/submitting/#exercises","text":"You are asked to submit the reads to a repository EBI. First, figure out what the best submission strategy is at the submission wizard . Answer After answering the questions, you probably conclude you should submit to ENA . If you haven\u2019t already got one, make a Webin account . After the creation of the Webin account we will continue in the dev environment at https://wwwdev.ebi.ac.uk/ena/browser/home . From now on dev environment! Make sure you use the dev environment https://wwwdev.ebi.ac.uk/ena/browser/home . Otherwise the reads will be submitted and stay at ENA! We will follow the route Submit to ENA using the Webin Portal , which requires four steps.","title":"Exercises"},{"location":"course_content/submitting/#1-register-study","text":"A study (or project) is an entity describing a research project. Typically this is at the level of a research grant. This make it e.g. easy to find data from multiple experiments from the same study. Click on Register study and fill out the form for the project described above. Note The descriptions do not have to belong for this example. Typically, you can copy-paste this information from e.g. the research proposal.","title":"1. Register study"},{"location":"course_content/submitting/#2-register-samples","text":"Go back to the submission portal main page , and click Register samples . Start by finding a sample template. Exercise : What would be the most appropriate template for our project? Answer Listeria monocytogenes is a pathogen, so as checklist group we select Pathogens Checklists . It is food-borne, so the first one COMPARE-ECDC-EFSA pilot food-associated reporting standard could be appropriate. However, we can\u2019t specify the host (cow) in there. So we choose the alternative: ENA prokaryotic pathogen minimal sample checklist . Exercise : Check out all fields (including recommended and optional). Any field you want to add/remove? Answer We don\u2019t have information about where the samples were exactly collected, so we can uncheck lat_lon at \u2018Recommended fields\u2019. We can also uncheck strain because we don\u2019t have any strain information. Exercise : Now download the template as tsv, and edit it in e.g. excel for our two samples (LIS001 and LIS002). Do not change the first three lines. For your convenenience, keep the field description open, so you know what to fill out. Hint In order to find the taxonomy ID ( tax_id ), use NCBI Taxonomy to find it. Answer You can find an example of a \u2018correctly\u2019 filled out table here .","title":"2. Register samples"},{"location":"course_content/submitting/#3-upload-reads","text":"Before we submit the reads, we first need to upload them. We will use the ftp protocol with FileZilla. Note Find all ways to upload sequence reads to ENA here . Get the reads we will submit here . After downloading, extract the tar file. To upload the reads, create a new Site that connects to ftp://webin2.ebi.ac.uk in FileZilla: File > Site Manager.. Click New Site Give the connection a name e.g. \u2018webin upload\u2019 Specify at Host webin2.ebi.ac.uk At User and Password specify your Webin username and password After filling out the connection details, click Connect to connect to your personal space on the ftp server. If the connection was successful, browse to the sequence files on your local computer in the left pane, and drag them to the window on the right pane (the ftp server).","title":"3. Upload reads"},{"location":"course_content/submitting/#4-submit-reads-metadata","text":"Go back to the submission portal main page , and click Submit reads . Like with the samples, we will download and fill out a template. Exercise Check out the template choices. What would be the most appropriate template? Answer We have paired fastq files, so we\u2019ll choose Submit paired reads using two Fastq files . Exercise : Again check out the mandatory and optional fields. Any field you would like to add from Optional Fields ? Check \u2018Show Description\u2019 The descriptions do not show by default for the read submission template. View it by checking \u2018Show Description\u2019 at the top of the page. Answer No, probably nothing to add because we don\u2019t have that information. If you have this kind of info, don\u2019t hesitate to add it! You have probably seen the fields \u2018forward_file_md5\u2019 and \u2018reverse_file_md5\u2019. md5 checksums are used to check whether the file transfer has completed completely without error. You can calculate them like this: Linux/MacOS/WSL Windows md5sum *.fastq.gz CertUtil -hashfile LIS001_R1 . fastq . gz MD5 CertUtil -hashfile LIS001_R2 . fastq . gz MD5 CertUtil -hashfile LIS002_R1 . fastq . gz MD5 CertUtil -hashfile LIS002_R2 . fastq . gz MD5 Exercise : download the template and fill out the required information. Check the field description and permitted values in the template description. You can also find an overview of permitted values here . Answer You can find a \u2018correctly\u2019 filled out table here . Now you can upload the file at Upload filled spreadsheet template for Read submission , and the website will tell you if it has been submitted successfully. Now at the side of ENA the files and md5 sums will be checked. If that has occurred successfully (usually occuring over night) you\u2019re all set! At Run files report you can check the status of the files.","title":"4. Submit Reads metadata"},{"location":"course_content/submitting/#extra-submit-with-webin-cli","text":"Submission though webin CLI requires the same steps for registering a study and registering samples. However, the process of submitting the reads is done programatically. A general overview on how to use Webin CLI for reads can be at the ENA docs . To do these exercises, follow these instructions to install Webin CLI locally. Submitting with Webin-CLI starts with creating a json manifest file, in which you specify the metdata associated with your reads. This metadata json basically contains the same information as in the read submission template that we have created above. Here\u2019s an mostly empty example: manifest.json { \"study\" : \"PRJEB00000\" , \"sample\" : \"ERS00000000\" , \"name\" : \"\" , \"platform\" : \"\" , \"instrument\" : \"\" , \"libraryName\" : \"\" , \"library-source\" : \"\" , \"library_selection\" : \"\" , \"libraryStrategy\" : \"\" , \"fastq\" : [ { \"value\" : \"LIS001_R1.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } }, { \"value\" : \"LIS001_R2.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } } ] } Creating json files Typically such a json files is generated programmatically with e.g. R or python. Exercise fill out this json for the reads associated with LIS001. Use the ENA docs to find the permitted values. Answer Here\u2019s an example. Note that study and sample are likely different for you. manifest_LIS001.json { \"study\" : \"PRJEB62850\" , \"sample\" : \"ERS15567929\" , \"name\" : \"LIS001\" , \"platform\" : \"ILLUMINA\" , \"instrument\" : \"Illumina MiSeq\" , \"libraryName\" : \"LIS001\" , \"library-source\" : \"GENOMIC\" , \"library_selection\" : \"RANDOM\" , \"libraryStrategy\" : \"WGS\" , \"fastq\" : [ { \"value\" : \"LIS001_R1.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } }, { \"value\" : \"LIS001_R2.fastq.gz\" , \"attributes\" : { \"read_type\" : \"paired\" } } ] } Now, we can use Webin CLI to validate and submit the reads. On a UNIX-based system it would look like this: java -jar webin-cli-6.4.1.jar \\ -context reads \\ -userName Webin-XXXXX \\ -password \" $WEBIN_PW \" \\ -manifest manifest.json \\ -outputDir . \\ -validate \\ -submit \\ -test Exercise Make sure that you have the webin-cli executable, manifest file and reads are in the same directory and run the command. Hint You can store you password in a variable like this: export WEBIN_PW = mywebinpassword Warning Make sure to add the -test option, otherwise Webin CLI will try to submit your reads!","title":"Extra: submit with webin CLI"}]}